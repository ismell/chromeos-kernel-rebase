Applied upstream as 5bd0988be12733a42a1a3d50e3e2ddfd79e57518
